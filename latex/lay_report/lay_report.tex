\documentclass[english,twoside,10pt]{extarticle}
\input{preamble}
	
\usepackage{titlesec}
\usepackage[geometry]{ifsym}


\titleformat{\section}
{\color{oxfordblue}\normalfont\Large\bfseries}
{\color{oxfordblue}\thesection}{1em}{}
\titleformat{\subsection}
{\color{blue}\normalfont\Large\bfseries}
{\color{blue}\thesection}{1em}{}
\titleformat{\subsubsection}
{\color{cyan}\normalfont\Large\bfseries}
{\color{cyan}\thesection}{1em}{}

\title{Mini-project lay report}
\author{Oliver Sheridan-Methven \and Attila Kovacs}
\coverimage[cover_image] % Specify your own image using [].

\begin{document}

\input{cover_page}

% For proof reading
%\doublespacing

% Give the prebody numbering.
%\pagenumbering{roman} 
%\setcounter{page}{1}

% Table of contents page.
\afterpage{
	\titleformat{\section}
	{\color{black}\normalfont\Large\bfseries}
	{\color{black}\thesection}{1em}{}
\pagestyle{empty}
\newgeometry{left=110mm,right=20mm,top=20mm,bottom=20mm, heightrounded, marginparwidth=100mm, marginparsep=5mm}
\reversemarginpar
\noindent
\begin{minipage}[t]{\linewidth}
\tableofcontents
\end{minipage} \\
\marginpar{\includegraphics[width=\linewidth]{andrew_wiles_building}}
\clearpage
}

\cleardoublepage % Double page as page numbering starts at 1.
\setcounter{section}{0}
\pagenumbering{arabic}

\section{Introduction}
\subsection{Background information}
\infommmarginnote{\dummysentences{5}}
\lipsum[2]

We can reference loads of useful stuff like \Cref{fig:harris_cartoon,fig:side_cartoon}, and also \Cref{tab:some_useful_values}.
\begin{table}[htb]
\centering
\begin{tabular}{llll}
Quantity & Name & Value & Units \\ \hline
Time & Tenure & 12 & \si{\micro\second} \\
Length & Height & 1.82 & \si{\centi\meter} \\
Planks constant & $ \hbar $ & $ 6.62\cdot10^{-32} $ & \si{\meter^2.\kilogram.\second^{-1}} \\
\end{tabular}
\caption{Some useful values.}
\label{tab:some_useful_values}
\end{table}


\subsubsection{Very specific points}
\lipsum[75] It's all about \marginnote{
	\begin{center}
		\begin{tabular}{lll}
			 & Value & Units \\ \hline
			c & $ 3\cdot10^{3} $ & \si{\meter.\second^{-1}} \\
			$ \hbar $ & $ 6.62\cdot10^{-32} $ & \si{\meter^2.\kilogram.\second^{-1}} \\
		\end{tabular}
	\end{center}
	\captionof{table}{Some physical constants which frequently come in handy for calculations, (although InFoMM students always non-dimensionalise).}
}
\begin{equation}
 \norm{\bm{l}}_\infty^4 = \pdv[4]{f}{\bm{g}}\coloneqq x^2 + y^2 = z^2.
\end{equation}

\subsubsection*{Glossary of terms}
\addcontentsline{toc}{section}{Glossary} % To add an un-numbered section to the contents. 

\begin{infommitemize}
	\litem{Cartoon} A brilliant sketch.
	\litem{Lay report} A smaller version of the technical report without all the maths.
	\litem{InFoMM} A great way to get a PhD and change the world. 
	\litem{Something a bit odd} \dummysentences{5}
\end{infommitemize}


\lipsum[1]

\subsubsection*{An odd point}
\marginnote{
	\includegraphics[width=\linewidth]{cover_image}
	\captionof{figure}{He is my favourite cartoonist.}
	\label{fig:side_cartoon}}
\lipsum[1]
\begin{figure}[htb]
\centering
\includegraphics[width=0.7\linewidth]{cover_image}
\caption{A hillarious S.\,Harris cartoon. Here $ e = mc^2 $ or $ \bm{e = mc^2}$.}
\label{fig:harris_cartoon}
\end{figure} 

\infommmarginnote[3mm]{I love these side bubbles! They're awesome and very helpful.
	$$ \int_{\mathbb{R}}^{\infty^+} f(z) \dd(z)  = 0
	$$}
\lipsum[1]


\section*{Some crazy maths}

\Cref{code:example} is a nice example of using Python rather than Matlab.
\begin{lstlisting}[language=Python, caption={Some example python code, incase we wanted to show the company some awesome programming idea.}, label={code:example}]
def prime_numbers():
	"""
	A prime number generator.
	:return: Int, prime number.
	"""
	x = 2
	primes = [x]
	yield x  # We the first prime number.
	while True:
		if x in primes:
			x += 1
		else:
			is_prime = True  
			for p in primes:
				if x % p == 0:
					is_prime = False  # The number is not prime.
					x += 1
					break  # We do not need further checks.
			if is_prime:
				primes.append(x)
				yield x
\end{lstlisting}

\blindmathpaper

\section*{Conclusions, Recommendations, \& Further Work}
\dummysentences{3}
\begin{myquote}[Caesar, head of the Roman empire.]
\lipsum[66]
\end{myquote}

% Add the bibliography.
\begin{small}
	\nocite{*} % publishes any unused references.
	\bibliography{references}
\end{small}
\clearpage
\end{document}
